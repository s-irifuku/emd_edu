<h2>貸出機器編集</h2>

<form [formGroup]="updForm" (ngSubmit)="onSubmit()">
    <table>
        <tr>
            <td>
                <p>機器</p>
                <select formControlName="deviceId">
                    <option *ngFor="let device of displayItem.deviceList" [value]="device.id" [selected]="device.id == displayItem.upd_device_id">
                        {{device.name}}
                    </option>
                </select>
                <div *ngIf="deviceId.invalid" class="error">
                    機器を選択して下さい
                </div>
            </td>
            <td>
                <p>OS</p>
                <select formControlName="osId">
                    <option *ngFor="let os of displayItem.osList" [value]="os.id" [selected]="os.id == displayItem.upd_os_id">
                        {{os.name}}
                    </option>
                </select>
                <div *ngIf="osId.invalid" class="error">
                    OSを選択して下さい
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <p>CPU</p>
                <select formControlName="cpuId">
                    <option *ngFor="let cpu of displayItem.cpuList" [value]="cpu.id" [selected]="cpu.id == displayItem.upd_cpu_id">
                        {{cpu.core}}コア
                    </option>
                </select>
                <div *ngIf="cpuId.invalid" class="error">
                    CPUを選択して下さい
                </div>
            </td>
            <td>
                <p>メモリー</p>
                <select formControlName="memoryId">
                    <option *ngFor="let memory of displayItem.memoryList" [value]="memory.id" [selected]="memory.id == displayItem.upd_memory_id">
                        {{memory.gbyte}}GB
                    </option>
                </select>
                <div *ngIf="memoryId.invalid" class="error">
                    CPUを選択して下さい
                </div>
            </td>
        </tr>
        <tr>
            <td>
                <p>ストレージタイプ</p>
                <select formControlName="storageTypeId">
                    <option *ngFor="let storageType of displayItem.storageTypeList" [value]="storageType.id" [selected]="storageType.id == displayItem.upd_storage_type_id">
                        {{storageType.name}}
                    </option>
                </select>
                <div *ngIf="storageTypeId.invalid" class="error">
                    ストレージタイプを選択して下さい
                </div>
            </td>
            <td>
                <p>ストレージ容量</p>
                <select formControlName="storageCapacityId">
                    <option *ngFor="let storageCapacity of displayItem.storageCapacityList" [value]="storageCapacity.id" [selected]="storageCapacity.id == displayItem.upd_storage_capacity_id">
                        {{storageCapacity.gbyte}}GB
                    </option>
                </select>
                <div *ngIf="storageCapacityId.invalid" class="error">
                    ストレージ容量を選択して下さい
                </div>
            </td>
        </tr>
    </table>
    <input type="button" value="戻る" routerLink="/res-list">
    <input type="submit" value="登録" [disabled]="updForm.invalid">
</form>